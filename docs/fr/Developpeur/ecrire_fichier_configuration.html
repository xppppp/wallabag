<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>wallabag - Écrire un fichier de configuration</title>

        <link rel="stylesheet" href="http://doc.wallabag.org/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://doc.wallabag.org/css/font-awesome.min.css">
        <link rel="stylesheet" href="http://doc.wallabag.org/css/highlight.tomorrow-night.css">
        <link rel="stylesheet" href="http://doc.wallabag.org/css/main.css">
    </head>
    <body>

        <header class="navbar navbar-default navbar-fixed-top">

            <a class="navbar-brand" href="http://doc.wallabag.org/">
                wallabag
                <small class="hidden-xs hidden-sm">
                    Écrire un fichier de configuration
                </small>
            </a>
            <a href="http://doc.wallabag.org/en">EN</a> - <a href="http://doc.wallabag.org/fr">FR</a> - <a href="http://doc.wallabag.org/de">DE</a> - <a href="http://doc.wallabag.org/ru">RU</a>

            
        </header>

        <main class="container-fluid">
            <div class="row">

                
                    <nav id="sidebar" class="col-sm-3 col-lg-2" role="navigation">

                                                                                                                                        <ul class="nav nav-pills nav-stacked">
                                    
                                    <h4 class="text-muted">
                                        
                                    </h4>

                                        <ul class="nav nav-pills nav-stacked">
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/index.html">
                                                   Pour commencer
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/contribuer_au_projet.html">
                                                   Aidez-nous
                                                </a>
                                            </li>
                                                                                </ul>
                                    
                                    <h4 class="text-muted">
                                        Administrateur
                                    </h4>

                                        <ul class="nav nav-pills nav-stacked">
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Administrateur/telechargement_et_installation.html">
                                                   Téléchargement et installation
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Administrateur/maj_wallabag.html">
                                                   Mettre à jour wallabag
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Administrateur/options_cachees.html">
                                                   Options cachées
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Administrateur/multi-utilisateurs.html">
                                                   wallabag multi-utilisateurs
                                                </a>
                                            </li>
                                                                                </ul>
                                    
                                    <h4 class="text-muted">
                                        Utilisateur
                                    </h4>

                                        <ul class="nav nav-pills nav-stacked">
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Utilisateur/sauvegarder_son_premier_article.html">
                                                   Sauvegarder son premier article
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Utilisateur/lire_un_article.html">
                                                   Lire un article
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Utilisateur/classer_ses_articles.html">
                                                   Classer ses articles
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Utilisateur/configurer_wallabag.html">
                                                   Configurer wallabag
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Utilisateur/rechercher.html">
                                                   Rechercher
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Utilisateur/convertir_en_epub.html">
                                                   Convertir en ePub
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Utilisateur/un_article_est_mal_affiche.html">
                                                   Problème d'affichage d'un article
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Utilisateur/flux_rss.html">
                                                   Flux RSS
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Utilisateur/importer_exporter.html">
                                                   Importer / Exporter
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Utilisateur/framabag.html">
                                                   Se créer un compte sur Framabag
                                                </a>
                                            </li>
                                                                                </ul>
                                    
                                    <h4 class="text-muted">
                                        Développeur
                                    </h4>

                                        <ul class="nav nav-pills nav-stacked">
                                                                                    <li class="test active">
                                                <a href="http://doc.wallabag.org/fr/Developpeur/ecrire_fichier_configuration.html">
                                                   Écrire un fichier de configuration
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Developpeur/creer_un_nouveau_theme.html">
                                                   Créer un nouveau thème
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Developpeur/depot_git.html">
                                                   Dépôt git de wallabag
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Developpeur/docker.html">
                                                   Docker
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Developpeur/vagrant.html">
                                                   Vagrant
                                                </a>
                                            </li>
                                                                                    <li class="test ">
                                                <a href="http://doc.wallabag.org/fr/Developpeur/v2.html">
                                                   wallabag v2 / symfony2
                                                </a>
                                            </li>
                                                                                </ul>
                                                                    </ul>
                                                                                                                                                            
                    </nav>

                
                <section class="col-lg-10">
                    <h1 id="crire-un-fichier-de-configuration">Écrire un fichier de configuration</h1>
<p>wallabag peut utiliser des fichiers de configuration spécifiques à un site pour lire les articles de ce site. Ces fichiers sont stockés dans le répertoire <a href="https://github.com/wallabag/wallabag/tree/master/inc/3rdparty/site_config/standard"><code>inc/3rdparty/site_config/standard</code></a>.</p>
<p>Le format utilisé pour ces fichiers est <a href="http://www.w3.org/TR/xpath20/">XPath</a>. Inspirez-vous des exemples dans le répertoire pour en créer de nouveaux.</p>
<h2 id="gnration-automatique-de-fichiers-de-configuration">Génération automatique de fichiers de configuration</h2>
<p>@FiveFilters a créé un <a href="http://siteconfig.fivefilters.org/">outil très utile</a> pour créer des fichiers de configuration. Vous devez taper l'adresse d'un article qui vous intéresse. puis vous sélectionnez le contenu que vous souhaitez.</p>
<p><img src="https://lut.im/RNaO7gGe/l9vRnO1b" alt="siteconfig" /></p>
<p>Vous devez confirmer cette zone en essayant avec d'autres articles.
Quand vous avez trouvé la bonne zone, cliquez simplement sur <em>Download Full-Text RSS site config</em> (Téléchargez la configuration du site Full-Text RSS) pour télécharger le fichier à inclure dans le répertoire.</p>
<h2 id="gnration-manuelle-de-fichiers-de-configuration">Génération manuelle de fichiers de configuration</h2>
<p>Si l'outil de FiveFilters ne marche pas tel qu´attendu, regardez la source d'un article (Ctrl+U sur Firefox ou Chromium). Cherchez votre contenu parmi le code source et repérez l'attribut <code>class</code> ou <code>id</code> de la zone que vous souhaitez.</p>
<p>Une fois que vous avez obtenu l'attribut <code>id</code> ou <code>class</code>, vous pouvez écrire par exemple l'une ou l'autre de ces lignes :</p>
<pre><code>body: //div[@class='myclass']
body: //div[@id='myid']</code></pre>
<p>Ensuite, testez votre fichier de configuration avec d'autres articles du même site. Si vous avez trouvé le bon contenu mais que vous voulez enlever des parties inutiles, ajoutez la ligne suivante (avec l'attribut <code>class</code> correspondant à la partie inutile) :</p>
<pre><code>strip: //div[@class='hidden']</code></pre>
<p>Vous pouvez regarder d'autres options pour les fichiers de configuration de sites <a href="http://help.fivefilters.org/customer/portal/articles/223153-site-patterns">sur l'aide du site de  FiveFilters</a>.</p>
                </section>

            </div>
        </main>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                // Syntax highlighting
                hljs.initHighlightingOnLoad();
            });
        </script>

    </body>
</html>
